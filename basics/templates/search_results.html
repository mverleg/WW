
{% extends 'frame.html' %}


{% block title %}
	{{ query }}
	-
	Search
	-
	{{ block.super }}
{% endblock title %}

{% block menu_autofocus %}{% endblock menu_autofocus %}

{% block content %}

	<h1>Search</h1>

	{# #todo: haystack has other cool features #}

	<form class="form form-inline" role="search" method="GET" action="{% url 'search' %}">
		<div class="form-group">
			<input style="width: 700px; max-width: 100%;" name="q" type="text" class="form-control" placeholder="{% blocktrans context 'Search placeholder' %}search{% endblocktrans %}..." autofocus>
		</div>
		<button type="submit" class="btn btn-default"><i class="glyphicon glyphicon-search"></i></button>
	</form>

	{% if results %}
		<table class="table table-striped table-hover">
		    <thead>
		        <td>Language</td>
		        <td style="min-width: 60%;">Text</td>
		        <td>Translations</td>
		    </thead>
		    <tbody>
                {% for result in results %}
	                <tr>
	                    <td>{{ result.language }}</td>
                        <td>{{ result.words }}{% if result.romanization %} ({{ result.romanization }}){% endif %}</td>
		                {% if result.other_languages %}
	                        <td><a href="{% url 'show_phrase' pk=result.phrase_pk %}">{{ result.other_languages }} other{{ result.other_languages|pluralize }}</a></td>
	                    {% else %}
                            <td>no others</td>
	                    {% endif %}
	                </tr>
                {% endfor %}
		    </tbody>
	    </table>
	{% else %}
        <p>No results for this query.</p>
	{% endif %}

{% endblock content %}


